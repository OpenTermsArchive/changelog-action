"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.isSemVerComparator = void 0;
// Copyright 2018-2023 the Deno authors. All rights reserved. MIT license.
const is_semver_js_1 = require("./is_semver.js");
const _shared_js_1 = require("./_shared.js");
const constants_js_1 = require("./constants.js");
/**
 * Does a deep check on the value to see if it is a valid SemVerComparator object.
 *
 * Objects with extra fields are still considered valid if they have at
 * least the correct fields.
 *
 * Adds a type assertion if true.
 * @param value The value to check if its a SemVerComparator
 * @returns True if the object is a SemVerComparator otherwise false
 */
function isSemVerComparator(value) {
    if (value === null || value === undefined)
        return false;
    if (value === constants_js_1.NONE)
        return true;
    if (value === constants_js_1.ALL)
        return true;
    if (Array.isArray(value))
        return false;
    if (typeof value !== "object")
        return false;
    const { operator, semver, min, max } = value;
    return ((0, _shared_js_1.isValidOperator)(operator) &&
        (0, is_semver_js_1.isSemVer)(semver) &&
        (0, is_semver_js_1.isSemVer)(min) &&
        (0, is_semver_js_1.isSemVer)(max));
}
exports.isSemVerComparator = isSemVerComparator;
