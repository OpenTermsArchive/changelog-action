name: Test Changelog Actions

on: [push, pull_request]

jobs:
  test-common-actions:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
      
      - name: Test Validation
        id: validate
        uses: ./validate

      - name: Print validation output
        run: echo "${{ steps.validate.outputs.release-type }}"
      
      - name: Test Release
        id: release
        uses: ./release
        with: 
          pull-request-number: ${{ github.event.number }}

      - name: Print release output
        run: |
          echo "${{ steps.release.outputs.version }}" &&
          echo "${{ steps.release.outputs.content }}"
